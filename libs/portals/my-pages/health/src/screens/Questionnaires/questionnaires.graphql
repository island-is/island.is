query GetQuestionnaires($locale: String!) {
  questionnairesList(locale: $locale) {
    questionnaires {
      id
      title
      description
      sentDate
      status
      lastSubmitted
      organization
      department
    }
  }
}

query GetQuestionnaire($locale: String!, $input: GetQuestionnaireInput!) {
  questionnairesDetail(locale: $locale, input: $input) {
    baseInformation {
      __typename
      id
      title
      description
      sentDate
      status
      lastSubmitted
      organization
      department
    }
    expirationDate
    canSubmit
    submissions {
      __typename
      id
      isDraft
      submittedAt
    }
  }
}

query GetQuestionnaireWithQuestions(
  $locale: String!
  $input: GetQuestionnaireInput!
) {
  questionnairesDetail(id: $id, locale: $locale, input: $input) {
    baseInformation {
      __typename
      id
      title
      organization
      department
      sentDate
    }
    canSubmit
    sections {
      __typename
      title
      questions {
        __typename
        id
        label
        sublabel
        htmlLabel
        required
        dependsOn
        visibilityConditions {
          questionId
          operator
          expectedValues
          showWhenMatched
        }
        answerOptions {
          __typename
          type
          placeholder
          maxLength
          min
          max
          maxLabel
          minLabel
          decimal
          formula
          options {
            __typename
            id
            label
            value
          }
        }
      }
    }
  }
}

query GetAnsweredQuestionnaire(
  $input: QuestionnaireAnsweredInput!
  $locale: String!
) {
  getAnsweredQuestionnaire(input: $input, locale: $locale) {
    __typename
    questionId
    label
    answer {
      ... on QuestionnaireSubmissionValues {
        __typename
        valueId
        label
        answer
      }
      ... on QuestionnaireSubmissionBooleanAnswer {
        __typename
        valueId
        label
        answer
      }
      ... on QuestionnaireSubmissionDateAnswer {
        __typename
        valueId
        label
        answer
      }
    }
  }
}

mutation SubmitQuestionnaire($input: QuestionnaireInput!) {
  submitQuestionnaire(input: $input)
}
