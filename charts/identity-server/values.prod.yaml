#####################################################################
#
# Do not edit this file manually, it is automatically generated.
# Run "yarn charts" instead.
#
#####################################################################

auth-admin-web:
  enabled: true
  env:
    BASE_URL: 'https://innskra.island.is/admin'
    CODE_OWNER: 'aranja'
    IDENTITYSERVER_DOMAIN: 'innskra.island.is'
    LOG_LEVEL: 'info'
    NEXTAUTH_URL: 'https://innskra.island.is/admin/api/auth'
    NEXT_PUBLIC_BACKEND_URL: '/backend'
    NODE_OPTIONS: '--max-old-space-size=230 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'nginx-ingress-internal'
    - 'islandis'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/auth-admin-web'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-external-alb'
        nginx.ingress.kubernetes.io/proxy-buffer-size: '8k'
        nginx.ingress.kubernetes.io/proxy-buffering: 'on'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'innskra.island.is'
          paths:
            - '/admin'
  namespace: 'identity-server-admin'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  progressDeadlineSeconds: 1200
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '256Mi'
    requests:
      cpu: '200m'
      memory: '192Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    IDENTITYSERVER_SECRET: '/k8s/auth-admin-web/IDENTITYSERVER_SECRET'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/auth-admin-web'
    create: true
    name: 'auth-admin-web'
global:
  env:
    AUDIT_GROUP_NAME: '/identity-server/audit-log'
    AWS_REGION: 'eu-west-1'
    NPM_CONFIG_UPDATE_NOTIFIER: 'false'
    PORT: '3333'
    name: 'prod'
  initContainer:
    env:
      AWS_REGION: 'eu-west-1'
      NPM_CONFIG_UPDATE_NOTIFIER: 'false'
identity-server:
  annotations:
    ad.datadoghq.com/identity-server.check_names: '["openmetrics"]'
    ad.datadoghq.com/identity-server.init_configs: '[{}]'
    ad.datadoghq.com/identity-server.instances: '[{"prometheus_url": "http://%%host%%:5003/metrics","namespace": "identity-server","metrics":["*"]}]'
    ad.datadoghq.com/identity-server.logs: '[{"service": "identity-server", "source": "csharp"}]'
  enabled: true
  env:
    ASPNETCORE_URLS: 'http://*:5000'
    AWS__CloudWatch__AuditLogGroup: '/identity-server/audit-log'
    AWS__SystemsManager__ParameterStore__DataProtectionPrefix: '/k8s/identity-server/DataProtectionSecret'
    ActorUserProfileApiSettings__BaseAddress: 'https://service-portal-api.internal.island.is'
    Application__AllowedRedirectUris: 'https://island.is/minarsidur,https://island.is/umsoknir'
    Application__MinCompletionPortThreads: '10'
    AudkenniSettings__Retries: '24'
    CORECLR_ENABLE_PROFILING: '1'
    CORECLR_PROFILER: '{846F5F1C-F9AE-4B07-969E-05C26BC060D8}'
    CORECLR_PROFILER_PATH: '/opt/datadog/Datadog.Trace.ClrProfiler.Native.so'
    CacheSettings__Enabled: 'true'
    ContentfulSettings__BaseAddress: 'https://cdn.contentful.com'
    DD_DOTNET_TRACER_HOME: '/opt/datadog'
    DD_INTEGRATIONS: '/opt/datadog/integrations.json'
    DD_TRACE_DEBUG: 'true'
    Datadog__Metrics__Port: '5003'
    EmailsApiSettings__BaseAddress: 'https://service-portal-api.internal.island.is'
    IdentityServer__ConsentsScope: '@island.is/auth/consents'
    IdentityServer__EnableFakeLogin: 'true'
    IdentityServer__EnableFeatureDeploymentWildcards: 'false'
    IdentityServer__KeyManagement__Enabled: 'true'
    IdentityServer__SigningCertificate__Path: '/etc/config/ids-signing.pfx'
    LOG_LEVEL: 'info'
    MeUserProfileApiSettings__BaseAddress: 'https://service-portal-api.internal.island.is'
    NODE_OPTIONS: '--max-old-space-size=1843 --enable-source-maps -r dd-trace/init'
    PersistenceSettings__BaseAddress: 'http://services-auth-ids-api'
    PersistenceSettings__DelegationsCacheEnabled: 'true'
    RedisSettings__Address: 'clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com'
    RedisSettings__Port: '6379'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SessionsApiSettings__BaseAddress: 'https://sessions-api.internal.island.is'
  files:
    - 'ids-signing.pfx'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'user-notification'
    - 'portals-admin'
    - 'datadog'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    port: 5010
    readiness:
      initialDelaySeconds: 3
      path: '/readiness'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 3
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/identity-server'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-external-alb'
        nginx.ingress.kubernetes.io/proxy-buffer-size: '8k'
        nginx.ingress.kubernetes.io/proxy-buffering: 'on'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'innskra.island.is'
          paths:
            - '/'
  namespace: 'identity-server'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs:
    - accessModes: 'ReadWriteMany'
      mountPath: '/keys'
      name: 'identity-server'
      size: '1Gi'
      storageClass: 'efs-csi'
      useExisting: false
  replicaCount:
    default: 3
    max: 10
    min: 3
  resources:
    limits:
      cpu: '4000m'
      memory: '2048Mi'
    requests:
      cpu: '1000m'
      memory: '1024Mi'
  secrets:
    AudkenniSettings__ClientId: '/k8s/identity-server/AudkenniClientId'
    AudkenniSettings__ClientSecret: '/k8s/identity-server/AudkenniClientSecret'
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    ContentfulSettings__AccessToken: '/k8s/identity-server/CONTENTFUL_ACCESS_TOKEN'
    Datadog__ClientLogs__Token: '/k8s/identity-server/DD_LOGS_CLIENT_TOKEN'
    FeatureFlags__ConfigCatSdkKey: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    IdentityServer__FakePersons: '/k8s/identity-server/FakePersons'
    IdentityServer__LicenseKey: '/k8s/identity-server/LicenseKey'
    IdentityServer__SigningCertificate__Passphrase: '/k8s/identity-server/SigningCertificatePassphrase'
    PersistenceSettings__AccessTokenManagementSettings__ClientSecret: '/k8s/identity-server/ClientSecret'
    Redaction__UserIdentifiers__Key: '/k8s/identity-server/redaction/USER_IDENTIFIERS_KEY'
    Redaction__UserIdentifiers__KeyId: '/k8s/identity-server/redaction/USER_IDENTIFIERS_KEY_ID'
    Scopes__Admin__RootAccessList: '/k8s/identity-server/AdminRootAccessList'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  service:
    targetPort: 5000
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/identity-server'
    create: true
    name: 'identity-server'
namespaces:
  labels: {}
  namespaces:
    - 'identity-server'
    - 'identity-server-admin'
    - 'identity-server-delegation'
    - 'personal-representative'
services-auth-admin-api:
  enabled: true
  env:
    CODE_OWNER: 'aranja'
    COMPANY_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    COMPANY_REGISTRY_XROAD_PROVIDER_ID: 'IS/GOV/5402696029/Skatturinn/ft-v1'
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_CLIENT_ID: '@island.is/clients/auth-api'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    IDENTITY_SERVER_ISSUER_URL_LIST: '["https://innskra.island.is"]'
    LOG_LEVEL: 'info'
    NATIONAL_REGISTRY_B2C_CLIENT_ID: '8271bbc2-d8de-480f-8540-ea43fc40b7ae'
    NATIONAL_REGISTRY_B2C_ENDPOINT: 'https://skraidentity.b2clogin.com/skraidentity.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token'
    NATIONAL_REGISTRY_B2C_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Midlun-v1'
    NATIONAL_REGISTRY_B2C_SCOPE: 'https://skraidentity.onmicrosoft.com/midlun/.default'
    NODE_OPTIONS: '--max-old-space-size=691 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/api'
    SYSLUMENN_TIMEOUT: '3000'
    XROAD_BASE_PATH: 'http://securityserver.island.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.island.is/r1/IS'
    XROAD_CLIENT_ID: 'IS/GOV/5501692829/island-is-client'
    XROAD_NATIONAL_REGISTRY_ACTOR_TOKEN: 'true'
    XROAD_NATIONAL_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_NATIONAL_REGISTRY_SERVICE_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_RSK_PROCURING_ACTOR_TOKEN: 'true'
    XROAD_RSK_PROCURING_PATH: 'IS/GOV/5402696029/Skatturinn/relationships-v1'
    XROAD_RSK_PROCURING_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_TLS_BASE_PATH: 'https://securityserver.island.is'
    XROAD_TLS_BASE_PATH_WITH_ENV: 'https://securityserver.island.is/r1/IS'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: 'digitaliceland'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'nginx-ingress-internal'
    - 'islandis'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/backend/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/backend/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-admin-api'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-external-alb'
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'innskra.island.is'
          paths:
            - '/backend'
  namespace: 'identity-server-admin'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '768Mi'
    requests:
      cpu: '100m'
      memory: '512Mi'
  secrets:
    CLIENT_SECRET_ENCRYPTION_KEY: '/k8s/services-auth/admin-api/CLIENT_SECRET_ENCRYPTION_KEY'
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
    IDENTITY_SERVER_CLIENT_SECRET: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
    NATIONAL_REGISTRY_B2C_CLIENT_SECRET: '/k8s/services-auth/NATIONAL_REGISTRY_B2C_CLIENT_SECRET'
    NATIONAL_REGISTRY_IDS_CLIENT_SECRET: '/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET'
    NOVA_PASSWORD: '/k8s/services-auth/NOVA_PASSWORD'
    NOVA_URL: '/k8s/services-auth/NOVA_URL'
    NOVA_USERNAME: '/k8s/services-auth/NOVA_USERNAME'
    SYSLUMENN_PASSWORD: '/k8s/services-auth/SYSLUMENN_PASSWORD'
    SYSLUMENN_USERNAME: '/k8s/services-auth/SYSLUMENN_USERNAME'
    ZENDESK_CONTACT_FORM_EMAIL: '/k8s/api/ZENDESK_CONTACT_FORM_EMAIL'
    ZENDESK_CONTACT_FORM_TOKEN: '/k8s/api/ZENDESK_CONTACT_FORM_TOKEN'
    ZENDESK_WEBHOOK_SECRET_DELETE_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_DELETE_GENERAL_MANDATE'
    ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE'
    ZENDESK_WEBHOOK_SECRET_IDENTITY_CONFIRMATION: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_IDENTITY_CONFIRMATION'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-admin-api'
    create: true
    name: 'services-auth-admin-api'
services-auth-delegation-api:
  enabled: true
  env:
    CODE_OWNER: 'aranja'
    COMPANY_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    COMPANY_REGISTRY_XROAD_PROVIDER_ID: 'IS/GOV/5402696029/Skatturinn/ft-v1'
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_CLIENT_ID: '@island.is/clients/auth-api'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NATIONAL_REGISTRY_B2C_CLIENT_ID: '8271bbc2-d8de-480f-8540-ea43fc40b7ae'
    NATIONAL_REGISTRY_B2C_ENDPOINT: 'https://skraidentity.b2clogin.com/skraidentity.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token'
    NATIONAL_REGISTRY_B2C_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Midlun-v1'
    NATIONAL_REGISTRY_B2C_SCOPE: 'https://skraidentity.onmicrosoft.com/midlun/.default'
    NODE_OPTIONS: '--max-old-space-size=460 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/api'
    SYSLUMENN_TIMEOUT: '3000'
    USER_NOTIFICATION_API_URL: 'https://user-notification.internal.island.is'
    XROAD_BASE_PATH: 'http://securityserver.island.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.island.is/r1/IS'
    XROAD_CLIENT_ID: 'IS/GOV/5501692829/island-is-client'
    XROAD_NATIONAL_REGISTRY_ACTOR_TOKEN: 'true'
    XROAD_NATIONAL_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_NATIONAL_REGISTRY_SERVICE_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_RSK_PROCURING_ACTOR_TOKEN: 'true'
    XROAD_RSK_PROCURING_PATH: 'IS/GOV/5402696029/Skatturinn/relationships-v1'
    XROAD_RSK_PROCURING_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_TLS_BASE_PATH: 'https://securityserver.island.is'
    XROAD_TLS_BASE_PATH_WITH_ENV: 'https://securityserver.island.is/r1/IS'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: 'digitaliceland'
  grantNamespaces:
    - 'nginx-ingress-internal'
    - 'islandis'
    - 'service-portal'
    - 'user-notification-worker'
    - 'user-notification-birthday-worker'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-delegation-api'
  ingress:
    internal-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-internal-alb'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'auth-delegation-api.internal.innskra.island.is'
          paths:
            - '/'
  namespace: 'identity-server-delegation'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '512Mi'
    requests:
      cpu: '100m'
      memory: '256Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
    IDENTITY_SERVER_CLIENT_SECRET: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
    NATIONAL_REGISTRY_B2C_CLIENT_SECRET: '/k8s/services-auth/NATIONAL_REGISTRY_B2C_CLIENT_SECRET'
    NATIONAL_REGISTRY_IDS_CLIENT_SECRET: '/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET'
    SYSLUMENN_PASSWORD: '/k8s/services-auth/SYSLUMENN_PASSWORD'
    SYSLUMENN_USERNAME: '/k8s/services-auth/SYSLUMENN_USERNAME'
    ZENDESK_CONTACT_FORM_EMAIL: '/k8s/api/ZENDESK_CONTACT_FORM_EMAIL'
    ZENDESK_CONTACT_FORM_TOKEN: '/k8s/api/ZENDESK_CONTACT_FORM_TOKEN'
    ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/auth-delegation-api'
    create: true
    name: 'auth-delegation-api'
services-auth-ids-api:
  enabled: true
  env:
    ALSO_USE_FAKE_USER_API: 'false'
    CODE_OWNER: 'aranja'
    COMPANY_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    COMPANY_REGISTRY_XROAD_PROVIDER_ID: 'IS/GOV/5402696029/Skatturinn/ft-v1'
    DB_EXTENSIONS: 'uuid-ossp'
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_CLIENT_ID: '@island.is/clients/auth-api'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NATIONAL_REGISTRY_B2C_CLIENT_ID: '8271bbc2-d8de-480f-8540-ea43fc40b7ae'
    NATIONAL_REGISTRY_B2C_ENDPOINT: 'https://skraidentity.b2clogin.com/skraidentity.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token'
    NATIONAL_REGISTRY_B2C_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Midlun-v1'
    NATIONAL_REGISTRY_B2C_SCOPE: 'https://skraidentity.onmicrosoft.com/midlun/.default'
    NODE_OPTIONS: '--max-old-space-size=691 --enable-source-maps -r dd-trace/init'
    NOVA_ACCEPT_UNAUTHORIZED: 'false'
    PASSKEY_CORE_ALLOWED_ORIGINS: '["https://island.is","android:apk-key-hash:JgPeo_F6KYk-ngRa26tO2SsAtMiTBQCc7WtSgN-jRX0","android:apk-key-hash:EsLTUu5kaY7XPmMl2f7nbq4amu-PNzdYu3FecNf90wU"]'
    PASSKEY_CORE_CHALLENGE_TTL_MS: '120000'
    PASSKEY_CORE_MAX_AGE_DAYS: '365'
    PASSKEY_CORE_RP_ID: 'island.is'
    PASSKEY_CORE_RP_NAME: 'Island.is'
    PUBLIC_URL: 'https://innskra.island.is/api'
    REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/api'
    SYSLUMENN_TIMEOUT: '3000'
    USER_PROFILE_CLIENT_SCOPE: '["@island.is/user-profile:read"]'
    USER_PROFILE_CLIENT_URL: 'https://service-portal-api.internal.island.is'
    XROAD_BASE_PATH: 'http://securityserver.island.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.island.is/r1/IS'
    XROAD_CLIENT_ID: 'IS/GOV/5501692829/island-is-client'
    XROAD_NATIONAL_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_NATIONAL_REGISTRY_SERVICE_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_RSK_PROCURING_PATH: 'IS/GOV/5402696029/Skatturinn/relationships-v1'
    XROAD_RSK_PROCURING_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_TJODSKRA_API_PATH: '/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_TJODSKRA_MEMBER_CODE: '6503760649'
    XROAD_TLS_BASE_PATH: 'https://securityserver.island.is'
    XROAD_TLS_BASE_PATH_WITH_ENV: 'https://securityserver.island.is/r1/IS'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: 'digitaliceland'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'user-notification'
    - 'datadog'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 15
        min: 6
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-ids-api'
  initContainer:
    containers:
      - args:
          - 'sequelize-cli'
          - 'db:migrate'
        command:
          - 'npx'
        name: 'migrations'
        resources:
          limits:
            cpu: '200m'
            memory: '256Mi'
          requests:
            cpu: '50m'
            memory: '128Mi'
      - args:
          - 'sequelize-cli'
          - 'db:seed:all'
        command:
          - 'npx'
        name: 'seed'
        resources:
          limits:
            cpu: '200m'
            memory: '256Mi'
          requests:
            cpu: '50m'
            memory: '128Mi'
    env:
      DB_EXTENSIONS: 'uuid-ossp'
      DB_HOST: 'postgres-ids.internal'
      DB_NAME: 'servicesauth'
      DB_REPLICAS_HOST: 'postgres-ids.internal'
      DB_USER: 'servicesauth'
      SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    secrets:
      DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
  namespace: 'identity-server'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 6
    max: 15
    min: 6
  resources:
    limits:
      cpu: '800m'
      memory: '768Mi'
    requests:
      cpu: '400m'
      memory: '512Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
    IDENTITY_SERVER_CLIENT_SECRET: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
    NATIONAL_REGISTRY_B2C_CLIENT_SECRET: '/k8s/services-auth/NATIONAL_REGISTRY_B2C_CLIENT_SECRET'
    NOVA_PASSWORD: '/k8s/services-auth/NOVA_PASSWORD'
    NOVA_URL: '/k8s/services-auth/NOVA_URL'
    NOVA_USERNAME: '/k8s/services-auth/NOVA_USERNAME'
    SYSLUMENN_PASSWORD: '/k8s/services-auth/SYSLUMENN_PASSWORD'
    SYSLUMENN_USERNAME: '/k8s/services-auth/SYSLUMENN_USERNAME'
    ZENDESK_CONTACT_FORM_EMAIL: '/k8s/api/ZENDESK_CONTACT_FORM_EMAIL'
    ZENDESK_CONTACT_FORM_TOKEN: '/k8s/api/ZENDESK_CONTACT_FORM_TOKEN'
    ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-ids-api'
    create: true
    name: 'services-auth-ids-api'
services-auth-ids-api-cleanup:
  args:
    - 'main.cjs'
    - '--job=cleanup'
  command:
    - 'node'
  enabled: true
  env:
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NODE_OPTIONS: '--max-old-space-size=921 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'user-notification'
    - 'portals-admin'
    - 'datadog'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 3
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-ids-api'
  namespace: 'identity-server'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 3
    max: 10
    min: 3
  resources:
    limits:
      cpu: '400m'
      memory: '1024Mi'
    requests:
      cpu: '100m'
      memory: '256Mi'
  schedule: '0 3 * * *'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-ids-api'
    create: true
    name: 'services-auth-ids-api'
services-auth-personal-representative:
  enabled: true
  env:
    COMPANY_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    COMPANY_REGISTRY_XROAD_PROVIDER_ID: 'IS/GOV/5402696029/Skatturinn/ft-v1'
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_CLIENT_ID: '@island.is/clients/auth-api'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NATIONAL_REGISTRY_B2C_CLIENT_ID: '8271bbc2-d8de-480f-8540-ea43fc40b7ae'
    NATIONAL_REGISTRY_B2C_ENDPOINT: 'https://skraidentity.b2clogin.com/skraidentity.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token'
    NATIONAL_REGISTRY_B2C_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Midlun-v1'
    NATIONAL_REGISTRY_B2C_SCOPE: 'https://skraidentity.onmicrosoft.com/midlun/.default'
    NODE_OPTIONS: '--max-old-space-size=460 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/api'
    SYSLUMENN_TIMEOUT: '3000'
    XROAD_BASE_PATH: 'http://securityserver.island.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.island.is/r1/IS'
    XROAD_CLIENT_ID: 'IS/GOV/5501692829/island-is-client'
    XROAD_NATIONAL_REGISTRY_ACTOR_TOKEN: 'true'
    XROAD_NATIONAL_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_NATIONAL_REGISTRY_SERVICE_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_RSK_PROCURING_ACTOR_TOKEN: 'true'
    XROAD_RSK_PROCURING_PATH: 'IS/GOV/5402696029/Skatturinn/relationships-v1'
    XROAD_RSK_PROCURING_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_TLS_BASE_PATH: 'https://securityserver.island.is'
    XROAD_TLS_BASE_PATH_WITH_ENV: 'https://securityserver.island.is/r1/IS'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: 'digitaliceland'
  grantNamespaces: []
  grantNamespacesEnabled: false
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-internal-alb'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'personal-representative-xrd.internal.innskra.island.is'
          paths:
            - '/'
  namespace: 'personal-representative'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '512Mi'
    requests:
      cpu: '100m'
      memory: '256Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
    IDENTITY_SERVER_CLIENT_SECRET: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
    NATIONAL_REGISTRY_B2C_CLIENT_SECRET: '/k8s/services-auth/NATIONAL_REGISTRY_B2C_CLIENT_SECRET'
    SYSLUMENN_PASSWORD: '/k8s/services-auth/SYSLUMENN_PASSWORD'
    SYSLUMENN_USERNAME: '/k8s/services-auth/SYSLUMENN_USERNAME'
    ZENDESK_CONTACT_FORM_EMAIL: '/k8s/api/ZENDESK_CONTACT_FORM_EMAIL'
    ZENDESK_CONTACT_FORM_TOKEN: '/k8s/api/ZENDESK_CONTACT_FORM_TOKEN'
    ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-personal-representative'
    create: true
    name: 'services-auth-personal-representative'
services-auth-personal-representative-public:
  enabled: true
  env:
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NODE_OPTIONS: '--max-old-space-size=460 --enable-source-maps -r dd-trace/init'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
  grantNamespaces: []
  grantNamespacesEnabled: false
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-personal-representative-public'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-internal-alb'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'personal-representative-public-xrd.internal.innskra.island.is'
          paths:
            - '/'
  namespace: 'personal-representative'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '512Mi'
    requests:
      cpu: '100m'
      memory: '256Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-personal-representative-public'
    create: true
    name: 'services-auth-personal-representative-public'
services-auth-public-api:
  enabled: true
  env:
    CODE_OWNER: 'aranja'
    COMPANY_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    COMPANY_REGISTRY_XROAD_PROVIDER_ID: 'IS/GOV/5402696029/Skatturinn/ft-v1'
    DB_HOST: 'postgres-ids.internal'
    DB_NAME: 'servicesauth'
    DB_REPLICAS_HOST: 'postgres-ids.internal'
    DB_USER: 'servicesauth'
    IDENTITY_SERVER_CLIENT_ID: '@island.is/clients/auth-api'
    IDENTITY_SERVER_ISSUER_URL: 'https://innskra.island.is'
    LOG_LEVEL: 'info'
    NATIONAL_REGISTRY_B2C_CLIENT_ID: '8271bbc2-d8de-480f-8540-ea43fc40b7ae'
    NATIONAL_REGISTRY_B2C_ENDPOINT: 'https://skraidentity.b2clogin.com/skraidentity.onmicrosoft.com/b2c_1_midlun_flow/oauth2/v2.0/token'
    NATIONAL_REGISTRY_B2C_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Midlun-v1'
    NATIONAL_REGISTRY_B2C_SCOPE: 'https://skraidentity.onmicrosoft.com/midlun/.default'
    NODE_OPTIONS: '--max-old-space-size=345 --enable-source-maps -r dd-trace/init'
    PASSKEY_CORE_ALLOWED_ORIGINS: '["https://island.is","android:apk-key-hash:JgPeo_F6KYk-ngRa26tO2SsAtMiTBQCc7WtSgN-jRX0","android:apk-key-hash:EsLTUu5kaY7XPmMl2f7nbq4amu-PNzdYu3FecNf90wU"]'
    PASSKEY_CORE_CHALLENGE_TTL_MS: '120000'
    PASSKEY_CORE_RP_ID: 'island.is'
    PASSKEY_CORE_RP_NAME: 'Island.is'
    PUBLIC_URL: 'https://innskra.island.is/api'
    REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    SERVERSIDE_FEATURES_ON: 'driving-license-use-v1-endpoint-for-v2-comms'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/api'
    SYSLUMENN_TIMEOUT: '3000'
    XROAD_BASE_PATH: 'http://securityserver.island.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.island.is/r1/IS'
    XROAD_CLIENT_ID: 'IS/GOV/5501692829/island-is-client'
    XROAD_NATIONAL_REGISTRY_ACTOR_TOKEN: 'true'
    XROAD_NATIONAL_REGISTRY_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_NATIONAL_REGISTRY_SERVICE_PATH: 'IS/GOV/6503760649/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_RSK_PROCURING_ACTOR_TOKEN: 'true'
    XROAD_RSK_PROCURING_PATH: 'IS/GOV/5402696029/Skatturinn/relationships-v1'
    XROAD_RSK_PROCURING_REDIS_NODES: '["clustercfg.general-redis-cluster-group.dnugi2.euw1.cache.amazonaws.com:6379"]'
    XROAD_TJODSKRA_API_PATH: '/SKRA-Cloud-Protected/Einstaklingar-v1'
    XROAD_TJODSKRA_MEMBER_CODE: '6503760649'
    XROAD_TLS_BASE_PATH: 'https://securityserver.island.is'
    XROAD_TLS_BASE_PATH_WITH_ENV: 'https://securityserver.island.is/r1/IS'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: 'digitaliceland'
  grantNamespaces:
    - 'nginx-ingress-external'
    - 'nginx-ingress-internal'
    - 'islandis'
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      initialDelaySeconds: 3
      path: '/liveness'
      timeoutSeconds: 3
    readiness:
      initialDelaySeconds: 3
      path: '/health/check'
      timeoutSeconds: 3
  hpa:
    scaling:
      metric:
        cpuAverageUtilization: 90
        nginxRequestsIrate: 5
      replicas:
        max: 10
        min: 2
  image:
    repository: '821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-auth-public-api'
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: 'nginx-external-alb'
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
        nginx.ingress.kubernetes.io/proxy-buffer-size: '8k'
        nginx.ingress.kubernetes.io/proxy-buffering: 'on'
        nginx.ingress.kubernetes.io/rewrite-target: '/$2'
        nginx.ingress.kubernetes.io/service-upstream: 'true'
      hosts:
        - host: 'innskra.island.is'
          pathTypeOverride: 'ImplementationSpecific'
          paths:
            - '/api(/|$)(.*)'
  namespace: 'identity-server-admin'
  podDisruptionBudget:
    maxUnavailable: 1
    unhealthyPodEvictionPolicy: 'AlwaysAllow'
  podSecurityContext:
    fsGroup: 65534
  pvcs: []
  replicaCount:
    default: 2
    max: 10
    min: 2
  resources:
    limits:
      cpu: '400m'
      memory: '384Mi'
    requests:
      cpu: '100m'
      memory: '256Mi'
  secrets:
    CONFIGCAT_SDK_KEY: '/k8s/configcat/CONFIGCAT_SDK_KEY'
    DB_PASS: '/k8s/servicesauth/DB_PASSWORD'
    IDENTITY_SERVER_CLIENT_SECRET: '/k8s/services-auth/IDENTITY_SERVER_CLIENT_SECRET'
    NATIONAL_REGISTRY_B2C_CLIENT_SECRET: '/k8s/services-auth/NATIONAL_REGISTRY_B2C_CLIENT_SECRET'
    NATIONAL_REGISTRY_IDS_CLIENT_SECRET: '/k8s/xroad/client/NATIONAL-REGISTRY/IDENTITYSERVER_SECRET'
    SYSLUMENN_PASSWORD: '/k8s/services-auth/SYSLUMENN_PASSWORD'
    SYSLUMENN_USERNAME: '/k8s/services-auth/SYSLUMENN_USERNAME'
    ZENDESK_CONTACT_FORM_EMAIL: '/k8s/api/ZENDESK_CONTACT_FORM_EMAIL'
    ZENDESK_CONTACT_FORM_TOKEN: '/k8s/api/ZENDESK_CONTACT_FORM_TOKEN'
    ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE: '/k8s/services-auth/ZENDESK_WEBHOOK_SECRET_GENERAL_MANDATE'
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::567113216315:role/services-auth-public-api'
    create: true
    name: 'services-auth-public-api'
