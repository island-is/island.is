api:
  args:
    - '--tls-min-v1.0'
    - main.js
  command:
    - node
  enabled: true
  env:
    APPLICATION_SYSTEM_API_URL: 'http://web-application-system-api.application-system.svc.cluster.local'
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    CONTACT_US_EMAIL: island@island.is
    CONTENTFUL_HOST: cdn.contentful.com
    DOCUMENT_PROVIDER_BASE_PATH: 'https://test-documentprovidermanagement-island-is.azurewebsites.net'
    DOCUMENT_PROVIDER_BASE_PATH_TEST: 'https://test-documentprovidermanagement-island-is.azurewebsites.net'
    DOCUMENT_PROVIDER_TOKEN_URL: 'https://test-identity-island-is.azurewebsites.net/connect/token'
    DOCUMENT_PROVIDER_TOKEN_URL_TEST: 'https://test-identity-island-is.azurewebsites.net/connect/token'
    DOWNLOAD_SERVICE_BASE_PATH: 'https://api.staging01.devland.is'
    ELASTIC_NODE: 'https://vpc-search-q6hdtjcdlhkffyxvrnmzfwphuq.eu-west-1.es.amazonaws.com/'
    FILE_DOWNLOAD_BUCKET: island-is-staging-download-cache-api
    FILE_STORAGE_UPLOAD_BUCKET: island-is-staging-upload-api
    HEALTH_INSURANCE_XROAD_WSDLURL: 'https://test-huld.sjukra.is/islandrg?wsdl'
    ICELANDIC_NAMES_REGISTRY_BACKEND_URL: >-
      http://web-icelandic-names-registry-backend.icelandic-names-registry.svc.cluster.local
    IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
    IDENTITY_SERVER_JWKS_URI: >-
      https://identity-server.staging01.devland.is/.well-known/openid-configuration/jwks
    REGULATIONS_API_URL: 'https://reglugerdir-api.herokuapp.com/api/v1'
    SEND_FROM_EMAIL: development@island.is
    SERVICE_DOCUMENTS_BASEPATH: 'http://web-services-documents.services-documents.svc.cluster.local'
    SERVICE_USER_PROFILE_URL: 'http://web-service-portal-api.service-portal.svc.cluster.local'
    SOFFIA_HOST_URL: soffiaprufa.skra.is
    SOFFIA_SOAP_URL: 'https://soffiaprufa.skra.is'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/dev'
    TELL_US_A_STORY_EMAIL: sogur@island.is
    XROAD_BASE_PATH: 'http://securityserver.staging01.devland.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.staging01.devland.is/r1/IS-TEST'
    XROAD_CLIENT_ID: IS-TEST/GOV/5501692829/island-is-client
    XROAD_HEALTH_INSURANCE_ID: IS-TEST/GOV/4804080550/SJUKRA-Protected
    XROAD_MMS_GRADE_SERVICE_ID: IS-TEST/EDU/5708150320/MMS-Protected/grade-api-v1
    XROAD_MMS_LICENSE_SERVICE_ID: IS-TEST/EDU/5708150320/MMS-Protected/license-api-v1
    XROAD_VMST_API_PATH: /VMST-ParentalLeave-Protected/ParentalLeaveApplication-v1
    XROAD_VMST_MEMBER_CODE: '7005942039'
    ZENDESK_CONTACT_FORM_SUBDOMAIN: digitaliceland
  grantNamespaces:
    - nginx-ingress-external
    - api-catalogue
    - application-system
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /health
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/api
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /api
  namespace: islandis
  podSecurityContext:
    fsGroup: 65534
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    CONTENTFUL_ACCESS_TOKEN: /k8s/api/CONTENTFUL_ACCESS_TOKEN
    DOCUMENT_PROVIDER_ADMINS: /k8s/documentprovider/DOCUMENT_PROVIDER_ADMINS
    DOCUMENT_PROVIDER_CLIENTID: /k8s/documentprovider/DOCUMENT_PROVIDER_CLIENTID
    DOCUMENT_PROVIDER_CLIENTID_TEST: /k8s/documentprovider/DOCUMENT_PROVIDER_CLIENTID_TEST
    DOCUMENT_PROVIDER_CLIENT_SECRET: /k8s/documentprovider/DOCUMENT_PROVIDER_CLIENT_SECRET
    DOCUMENT_PROVIDER_CLIENT_SECRET_TEST: /k8s/documentprovider/DOCUMENT_PROVIDER_CLIENT_SECRET_TEST
    HEALTH_INSURANCE_XROAD_PASSWORD: /k8s/health-insurance/XROAD-PASSWORD
    HEALTH_INSURANCE_XROAD_USERNAME: /k8s/health-insurance/XROAD-USER
    POSTHOLF_BASE_PATH: /k8s/documents/POSTHOLF_BASE_PATH
    POSTHOLF_CLIENTID: /k8s/documents/POSTHOLF_CLIENTID
    POSTHOLF_CLIENT_SECRET: /k8s/documents/POSTHOLF_CLIENT_SECRET
    POSTHOLF_TOKEN_URL: /k8s/documents/POSTHOLF_TOKEN_URL
    SOFFIA_PASS: /k8s/service-portal/SOFFIA_PASS
    SOFFIA_USER: /k8s/service-portal/SOFFIA_USER
    SYSLUMENN_PASSWORD: /k8s/api/SYSLUMENN_PASSWORD
    SYSLUMENN_USERNAME: /k8s/api/SYSLUMENN_USERNAME
    VMST_API_KEY: /k8s/vmst-client/VMST_API_KEY
    ZENDESK_CONTACT_FORM_EMAIL: /k8s/api/ZENDESK_CONTACT_FORM_EMAIL
    ZENDESK_CONTACT_FORM_TOKEN: /k8s/api/ZENDESK_CONTACT_FORM_TOKEN
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::261174024191:role/api'
    create: true
    name: api
application-system-api:
  enabled: true
  env:
    APPLICATION_ATTACHMENT_BUCKET: island-is-staging-storage-application-system
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    CLIENT_LOCATION_ORIGIN: 'https://beta.staging01.devland.is/umsoknir'
    CONTENTFUL_HOST: cdn.contentful.com
    DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
    DB_NAME: application_system_api
    DB_USER: application_system_api
    DOKOBIT_URL: 'https://developers.dokobit.com'
    EMAIL_REGION: eu-west-1
    FILE_SERVICE_PRESIGN_BUCKET: island-is-staging-fs-presign-bucket
    FILE_STORAGE_UPLOAD_BUCKET: island-is-staging-upload-api
    FUNDING_GOVERNMENT_PROJECTS_APPLICATION_RECIPIENT_EMAIL_ADDRESS: gunnar.ingi@fjr.is
    FUNDING_GOVERNMENT_PROJECTS_APPLICATION_RECIPIENT_NAME: Gunnar Ingi
    GRAPHQL_API_URL: 'http://web-api.islandis.svc.cluster.local'
    HEALTH_INSURANCE_XROAD_WSDLURL: 'https://test-huld.sjukra.is/islandrg?wsdl'
    IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
    IDENTITY_SERVER_JWKS_URI: >-
      https://identity-server.staging01.devland.is/.well-known/openid-configuration/jwks
    INSTITUTION_APPLICATION_RECIPIENT_EMAIL_ADDRESS: gunnar.ingi@fjr.is
    INSTITUTION_APPLICATION_RECIPIENT_NAME: Gunnar Ingi
    NOVA_URL: 'https://smsapi.devnova.is'
    NOVA_USERNAME: IslandIs_User_Development
    REDIS_URL_NODE_01: >-
      clustercfg.general-redis-cluster-group.ab9ckb.euw1.cache.amazonaws.com:6379
    SERVICE_DOCUMENTS_BASEPATH: 'http://web-services-documents.services-documents.svc.cluster.local'
    SYSLUMENN_HOST: 'https://api.syslumenn.is/dev'
    XROAD_BASE_PATH: 'http://securityserver.staging01.devland.is'
    XROAD_BASE_PATH_WITH_ENV: 'http://securityserver.staging01.devland.is/r1/IS-TEST'
    XROAD_CLIENT_ID: IS-TEST/GOV/5501692829/island-is-client
    XROAD_HEALTH_INSURANCE_ID: IS-TEST/GOV/4804080550/SJUKRA-Protected
    XROAD_VMST_API_PATH: /VMST-ParentalLeave-Protected/ParentalLeaveApplication-v1
    XROAD_VMST_MEMBER_CODE: '7005942039'
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /liveness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-api
  initContainer:
    containers:
      - args:
          - sequelize-cli
          - 'db:migrate'
        command:
          - npx
    env:
      DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
      DB_NAME: application_system_api
      DB_USER: application_system_api
    secrets:
      DB_PASS: /k8s/application-system/api/DB_PASSWORD
  namespace: application-system
  podSecurityContext:
    fsGroup: 65534
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    AUTH_JWT_SECRET: /k8s/application-system/api/AUTH_JWT_SECRET
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    CONTENTFUL_ACCESS_TOKEN: /k8s/api/CONTENTFUL_ACCESS_TOKEN
    DB_PASS: /k8s/application-system/api/DB_PASSWORD
    DOCUMENT_PROVIDER_ONBOARDING_REVIEWER: /k8s/application-system/api/DOCUMENT_PROVIDER_ONBOARDING_REVIEWER
    DOKOBIT_ACCESS_TOKEN: /k8s/application-system/api/DOKOBIT_ACCESS_TOKEN
    EMAIL_FROM: /k8s/application-system/api/EMAIL_FROM
    EMAIL_FROM_NAME: /k8s/application-system/api/EMAIL_FROM_NAME
    EMAIL_REPLY_TO: /k8s/application-system/api/EMAIL_REPLY_TO
    EMAIL_REPLY_TO_NAME: /k8s/application-system/api/EMAIL_REPLY_TO_NAME
    HEALTH_INSURANCE_XROAD_PASSWORD: /k8s/health-insurance/XROAD-PASSWORD
    HEALTH_INSURANCE_XROAD_USERNAME: /k8s/health-insurance/XROAD-USER
    NOVA_PASSWORD: /k8s/application-system/api/NOVA_PASSWORD
    SYSLUMENN_PASSWORD: /k8s/application-system/api/SYSLUMENN_PASSWORD
    SYSLUMENN_USERNAME: /k8s/application-system/api/SYSLUMENN_USERNAME
    VMST_API_KEY: /k8s/vmst-client/VMST_API_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::261174024191:role/application-system-api'
    create: true
    name: application-system-api
application-system-form:
  enabled: true
  env:
    BASEPATH: /umsoknir
    SI_PUBLIC_IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/application-system-form
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /umsoknir
  namespace: application-system
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
contentful-translation-extension:
  enabled: true
  grantNamespaces:
    - nginx-ingress-external
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: >-
      821090935708.dkr.ecr.eu-west-1.amazonaws.com/contentful-translation-extension
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: contentful-translation-extension.staging01.devland.is
          paths:
            - /
  namespace: contentful-translation-extension
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
download-service:
  enabled: true
  env:
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
    IDENTITY_SERVER_JWKS_URI: >-
      https://identity-server.staging01.devland.is/.well-known/openid-configuration/jwks
  grantNamespaces:
    - islandis
    - nginx-ingress-external
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: download/v1/liveness
    readiness:
      path: download/v1/readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/download-service
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: api.staging01.devland.is
          paths:
            - /download
  namespace: download-service
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    POSTHOLF_BASE_PATH: /k8s/documents/POSTHOLF_BASE_PATH
    POSTHOLF_CLIENTID: /k8s/documents/POSTHOLF_CLIENTID
    POSTHOLF_CLIENT_SECRET: /k8s/documents/POSTHOLF_CLIENT_SECRET
    POSTHOLF_TOKEN_URL: /k8s/documents/POSTHOLF_TOKEN_URL
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
global:
  env:
    AWS_REGION: eu-west-1
    PORT: '3333'
    name: staging
  image:
    tag: latest_master
  initContainer:
    env:
      AWS_REGION: eu-west-1
icelandic-names-registry-backend:
  enabled: true
  env:
    DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
    DB_NAME: icelandic_names_registry_backend
    DB_USER: icelandic_names_registry_backend
    IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
    IDENTITY_SERVER_JWKS_URI: >-
      https://identity-server.staging01.devland.is/.well-known/openid-configuration/jwks
  grantNamespaces:
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /liveness
  image:
    repository: >-
      821090935708.dkr.ecr.eu-west-1.amazonaws.com/icelandic-names-registry-backend
  initContainer:
    containers:
      - args:
          - sequelize-cli
          - 'db:migrate'
        command:
          - npx
        name: migrations
      - args:
          - sequelize-cli
          - 'db:seed:all'
        command:
          - npx
        name: seeds
    env:
      DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
      DB_NAME: icelandic_names_registry_backend
      DB_USER: icelandic_names_registry_backend
    secrets:
      DB_PASS: /k8s/icelandic-names-registry-backend/DB_PASSWORD
  namespace: icelandic-names-registry
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    ALLOWED_NATIONAL_IDS: /k8s/icelandic-names-registry-backend/ALLOWED_NATIONAL_IDS
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    DB_PASS: /k8s/icelandic-names-registry-backend/DB_PASSWORD
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
island-ui-storybook:
  enabled: true
  grantNamespaces:
    - nginx-ingress-external
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/island-ui-storybook
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: ui.staging01.devland.is
          paths:
            - /
  namespace: storybook
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
search-indexer-service:
  enabled: true
  env:
    APPLICATION_URL: 'http://search-indexer-service'
    CONTENTFUL_ENVIRONMENT: master
    CONTENTFUL_HOST: cdn.contentful.com
    CONTENTFUL_SPACE: 8k0h54kbe6bj
    ELASTIC_INDEX: island-is
    ELASTIC_NODE: 'https://vpc-search-q6hdtjcdlhkffyxvrnmzfwphuq.eu-west-1.es.amazonaws.com'
  grantNamespaces: []
  grantNamespacesEnabled: false
  healthCheck:
    liveness:
      path: /
    readiness:
      path: /
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-search-indexer
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: search-indexer-service.staging01.devland.is
          paths:
            - /
  initContainer:
    containers:
      - args:
          - /webapp/migrateAws.js
        command:
          - /usr/local/bin/node
        name: migrate-aws
        resources:
          limits:
            cpu: 400m
            memory: 1024Mi
          requests:
            cpu: 100m
            memory: 256Mi
      - args:
          - /webapp/migrateElastic.js
        command:
          - /usr/local/bin/node
        name: migrate-elastic
        resources:
          limits:
            cpu: 400m
            memory: 1024Mi
          requests:
            cpu: 100m
            memory: 256Mi
      - args:
          - /webapp/migrateKibana.js
        command:
          - /usr/local/bin/node
        name: migrate-kibana
        resources:
          limits:
            cpu: 400m
            memory: 1024Mi
          requests:
            cpu: 100m
            memory: 256Mi
    env:
      APPLICATION_URL: 'http://search-indexer-service'
      CONTENTFUL_ENVIRONMENT: master
      CONTENTFUL_HOST: cdn.contentful.com
      CONTENTFUL_SPACE: 8k0h54kbe6bj
      ELASTIC_DOMAIN: search
      ELASTIC_INDEX: island-is
      ELASTIC_NODE: 'https://vpc-search-q6hdtjcdlhkffyxvrnmzfwphuq.eu-west-1.es.amazonaws.com'
      S3_BUCKET: staging-es-custom-packages
    secrets:
      CONTENTFUL_ACCESS_TOKEN: /k8s/search-indexer/CONTENTFUL_ACCESS_TOKEN
  namespace: search-indexer
  podSecurityContext:
    fsGroup: 65534
  replicaCount:
    default: 1
    max: 1
    min: 1
  secrets:
    API_CMS_SYNC_TOKEN: /k8s/search-indexer/API_CMS_SYNC_TOKEN
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    CONTENTFUL_ACCESS_TOKEN: /k8s/search-indexer/CONTENTFUL_ACCESS_TOKEN
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::261174024191:role/search-indexer'
    create: true
    name: search-indexer
service-portal:
  enabled: true
  env:
    BASEPATH: /minarsidur
    SI_PUBLIC_IDENTITY_SERVER_ISSUER_URL: 'https://identity-server.staging01.devland.is'
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/service-portal
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
        nginx.ingress.kubernetes.io/enable-global-auth: 'false'
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /minarsidur
  namespace: service-portal
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    SI_PUBLIC_CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
service-portal-api:
  enabled: true
  env:
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
    DB_NAME: service_portal_api
    DB_USER: service_portal_api
    EMAIL_REGION: eu-west-1
    NOVA_URL: 'https://smsapi.devnova.is'
    SERVICE_PORTAL_BASE_URL: 'https://beta.staging01.devland.is/minarsidur'
  grantNamespaces:
    - nginx-ingress-external
    - islandis
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-user-profile
  initContainer:
    containers:
      - args:
          - sequelize-cli
          - 'db:migrate'
        command:
          - npx
    env:
      DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
      DB_NAME: service_portal_api
      DB_USER: service_portal_api
    secrets:
      DB_PASS: /k8s/service-portal/api/DB_PASSWORD
  namespace: service-portal
  podSecurityContext:
    fsGroup: 65534
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    DB_PASS: /k8s/service-portal/api/DB_PASSWORD
    EMAIL_FROM: /k8s/service-portal/api/EMAIL_FROM
    EMAIL_FROM_NAME: /k8s/service-portal/api/EMAIL_FROM_NAME
    EMAIL_REPLY_TO: /k8s/service-portal/api/EMAIL_REPLY_TO
    EMAIL_REPLY_TO_NAME: /k8s/service-portal/api/EMAIL_REPLY_TO_NAME
    NOVA_PASSWORD: /k8s/gjafakort/NOVA_PASSWORD
    NOVA_USERNAME: /k8s/gjafakort/NOVA_USERNAME
    SENTRY_DSN: /k8s/service-portal/SENTRY_DSN
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::261174024191:role/service-portal-api'
    create: true
    name: service-portal-api
services-documents:
  enabled: true
  env:
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
    DB_NAME: services_documents
    DB_USER: services_documents
  grantNamespaces:
    - islandis
    - application-system
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-documents
  initContainer:
    containers:
      - args:
          - sequelize-cli
          - 'db:migrate'
        command:
          - npx
    env:
      DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
      DB_NAME: services_documents
      DB_USER: services_documents
    secrets:
      DB_PASS: /k8s/services-documents/DB_PASSWORD
  namespace: services-documents
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    DB_PASS: /k8s/services-documents/DB_PASSWORD
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
skilavottord-web:
  enabled: true
  env:
    API_URL: 'http://web-skilavottord-ws'
  grantNamespaces:
    - nginx-ingress-external
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /liveness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/skilavottord-web
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /app/skilavottord/
  namespace: skilavottord
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
skilavottord-ws:
  enabled: true
  env:
    AUDIT_GROUP_NAME: k8s/island-is/audit-log
    AUTH_AUDIENCE: beta.staging01.devland.is
    DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
    DB_NAME: skilavottord
    DB_USER: skilavottord
    FJARSYSLA_REST_URL: 'https://tbrws-s.hysing.is/restv2/LeggjaASkilagjald'
    FJARSYSLA_REST_USER: fjs-samgong-p
    SAMGONGUSTOFA_REST_AUTH_URL: 'https://test-api.samgongustofa.is/vehicle/registrations/authenticate'
    SAMGONGUSTOFA_REST_DEREG_URL: 'https://test-api.samgongustofa.is/vehicle/registrations/deregistration'
    SAMGONGUSTOFA_REST_USER: DELOITTE.AFSKRA
    SAMGONGUSTOFA_SOAP_URL: >-
      https://test-xml.samgongustofa.is/scripts/WebObjects.dll/XML.woa/1/ws/.USXMLWS
    SAMGONGUSTOFA_SOAP_USER: DeloitteTest
    SAML_ENTRY_POINT: 'https://innskraning.island.is/?id=sv_citizen.staging&qaa=4'
    SAML_ENTRY_POINT2: 'https://innskraning.island.is/?id=sv_company.staging&qaa=4'
  grantNamespaces:
    - nginx-ingress-external
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /liveness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/skilavottord-ws
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /app/skilavottord/api/
  initContainer:
    containers:
      - args:
          - sequelize-cli
          - 'db:migrate'
        command:
          - npx
    env:
      DB_HOST: staging-vidspyrna-aurora-2.cxg4o2lgih4t.eu-west-1.rds.amazonaws.com
      DB_NAME: skilavottord
      DB_USER: skilavottord
    secrets:
      DB_PASS: /k8s/skilavottord/DB_PASSWORD
  namespace: skilavottord
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    AUTH_JWT_SECRET: /k8s/skilavottord/AUTH_JWT_SECRET
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    DB_PASS: /k8s/skilavottord/DB_PASSWORD
    FJARSYSLA_REST_PASS: /k8s/skilavottord/FJARSYSLA_REST_PASS
    SAMGONGUSTOFA_REST_PASS: /k8s/skilavottord/SAMGONGUSTOFA_REST_PASS
    SAMGONGUSTOFA_SOAP_PASS: /k8s/skilavottord/SAMGONGUSTOFA_SOAP_PASS
    SKILAVOTTORD_USER_LIST: /k8s/skilavottord/SKILAVOTTORD_USER_LIST
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
web:
  basicAuth: /k8s/web/basic_auth
  enabled: true
  env:
    API_URL: 'http://web-api'
    DISABLE_API_CATALOGUE: 'false'
    DISABLE_ORGANIZATION_CHATBOT: 'false'
    DISABLE_REGULATIONS_PAGE: 'false'
    DISABLE_SYSLUMENN_PAGE: 'false'
    SENTRY_DSN: 'https://b49176b379c349bf9d83a5671118fbd9@o406638.ingest.sentry.io/5405931'
    TRACKING_DOMAIN: beta.staging01.devland.is
  grantNamespaces:
    - nginx-ingress-external
    - api-catalogue
    - application-system
  grantNamespacesEnabled: true
  healthCheck:
    liveness:
      path: /liveness
    readiness:
      path: /readiness
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/web
  ingress:
    primary-alb:
      annotations:
        kubernetes.io/ingress.class: nginx-external-alb
      hosts:
        - host: beta.staging01.devland.is
          paths:
            - /
  namespace: islandis
  replicaCount:
    default: 2
    max: 3
    min: 2
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
xroad-collector:
  args:
    - main.js
  command:
    - node
  enabled: true
  env:
    ELASTIC_NODE: 'https://vpc-search-q6hdtjcdlhkffyxvrnmzfwphuq.eu-west-1.es.amazonaws.com'
    NODE_TLS_REJECT_UNAUTHORIZED: '0'
  grantNamespaces: []
  grantNamespacesEnabled: false
  healthCheck:
    liveness:
      path: /
    readiness:
      path: /
  image:
    repository: 821090935708.dkr.ecr.eu-west-1.amazonaws.com/services-xroad-collector
  namespace: xroad-collector
  podSecurityContext:
    fsGroup: 65534
  replicaCount:
    default: 2
    max: 3
    min: 2
  schedule: 0 2 * * *
  secrets:
    CONFIGCAT_SDK_KEY: /k8s/configcat/CONFIGCAT_SDK_KEY
    XROAD_BASE_PATH: /k8s/xroad-collector/XROAD_BASE_PATH
    XROAD_CLIENT_ID: /k8s/xroad-collector/XROAD_CLIENT_ID
  securityContext:
    allowPrivilegeEscalation: false
    privileged: false
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: 'arn:aws:iam::261174024191:role/xroad-collector'
    create: true
    name: xroad-collector

